# パートナーアプリを公開する
開発したパートナーアプリを公開するには、STORES による事前審査が必要です。  
以下の手順で公開アプリの事前審査を行なってください。  
事前審査期間は通常2週間いただいております。

## 事前審査の流れ
1. [パートナーアプリの登録フォーム](development-partner-signup.md)で「公開アプリ」の種類を選択する
1. 公開アプリの開発を行う
1. 事前審査のポイントを確認する
1. [公開アプリの事前審査フォーム](https://docs.google.com/forms/d/e/1FAIpQLSdWvUqMk3QsNqUKd-Os5BJZvkZrDA1V2P2v_FXYIOHQSS8I9w/viewform)を入力し、事前審査を開始する
1. 事前審査の結果を受ける
1. 事前審査を通過後、STORES 上にパートナーアプリが公開される

## 1. パートナーアプリの種類を選択
開発パートナーは[パートナーアプリを登録](development-partner-signup.md)することができます。  
パートナーアプリを登録する際、「公開アプリ」の種類を選択してください。  


## 2. 公開アプリの開発
パートナーアプリを登録後、STORES から提供した情報を利用して開発を行ってください。  
開発時に利用できる[テストデータを作成](https://github.com/heyinc/retail-api-docs/blob/master/test-data.md)することができます。  

## 3. 事前審査のポイント

### 開始前のチェック
- [ ] 開発した公開アプリがテストアカウントで正常に動作することを確認した
- [ ] [事前審査項目](#事前審査項目)を確認した
- [ ] [開発パートナー規約](https://partner.platform.stores.jp/dev/terms)を確認した


### 事前審査項目
事前審査は、以下の項目に従い実施されます。  
審査審査開始前に確認をお願いいたします。  

| 確認項目 | 詳細 |
| --- | --- |
| 公開アプリであるか | プライベートアプリは単一ストアの利用を目的にしたパートナーアプリであるため、事前審査の対象外となります |
| WEBアプリケーションであるか | 以下のように利用環境が限定されるアプリケーションは公開いたしません。<br><br>・コンピューターにダウンロードする必要のあるスタンドアロンソフトウェア<br><br>・ブラウザ拡張機能が必須のアプリ |
| 利用するAPIのスコープは適切か | 機能内容に対して、必要以上のスコープのAPIを利用する場合は、確認をさせていただきます |
| 公開アプリをオーナーが利用するメリットは何か | ただオーナーの情報を取得することが目的で、オーナーの利便性を向上させるものではないパートナーアプリは公開いたしません|
| APIの利用が確認できるか | STORESのAPIを一切使用せず、自社サービスへの誘導のため、アプリ公開申請をしている場合は公開いたしません |
| サポート体制は必要十分か | オーナーが安心してパートナーアプリをご利用できるための情報やお問い合わせ窓口が用意されているかを確認させていただきます |
| 実在するサービスと連携されるか | 開発パートナーの運営するサービスが実在しているかを確認させていただきます |
| サービス内でプライバシーポリシーが存在するか | STORES と連携するサービスが、個人情報に対する適切な対応が取られたサービスであるかを確認させていただきます |
| 公開アプリが正常に動作するか | 事前審査時に動作確認をさせていただきます。動作確認の方法についてご教授ください |
| OAuth連携は正しく実行されるか | OAuth連携がドキュメント通り実装されているか、また連携後正しくデータが参照・更新されるかを確認させていただきます |
| 公序良俗への違反はないか | オーナーが安心してご利用できるものかどうかを確認させていただきます |
| OAuth連携解除時に取得した個人情報は削除されるか | 開発パートナー規約に則り、オーナーが連携解除を行った際に全ての個人情報の削除を行ってください |
| 公開情報は簡潔明瞭か | オーナーが公開アプリを利用するイメージがつきやすい内容の説明文や画像となっているか、を確認させていただきます |
| 公開情報は正しいフォーマットか | 提供いただく公開情報（画像や説明文など）のフォーマットが正しいかを確認させていただきます |
| 提供画像に STORES の文字が含まれていないか | 提供画像内に STORES の文字がある場合は、修正を依頼させていただく場合がございます |
| パートナーアプリ名に STORES の文字が含まれていないか | パートナーアプリ名に STORES の文字がある場合は、修正を依頼させていただく場合がございます |
| セキュリティに関する申告がされているか | 以下の内容の確認をさせていただきます。<br><br>・アプリが自身の認証情報を保存する場合、実際のパスワードではなく、ソルトを付与してハッシュ化したパスワードのみを保存している。<br>・アプリは、有効な TLS 証明書を使用し、 HTTPS通信を介して提供している。<br>・iFrameを保護して、ショップドメイン以外のドメインがiFrameでアプリを使用できないようにしている。<br>・アプリの機能に必要のないネットワークサービスを公開していない。<br>・アプリは、STORESユーザーの認証情報を収集していない。<br>・アプリは共有秘密鍵を公開していない。もし、誤って共有秘密鍵を公開してしまった場合は、速やかに共有秘密鍵をローテーションする。 |
| セキュリティ体制についての確認 | 以下の内容におおむね準じているかどうかをご確認ください。準じていない場合、弊社から対応を依頼する場合がございます。<br><br>・情報セキュリティ管理責任者や情報セキュリティに関する会議体を設置し、情報セキュリティ管理のための体制を構築している<br>・情報セキュリティに関するルールを策定、運用している<br>・情報漏洩等が発生した場合、影響範囲を速やかに把握し、適切な対応を行うため、情報資産の管理を実施している<br>・情報漏えいなどのセキュリティ事故やシステム障害が発生した際の体制やルールを整備し、運用している<br>・セキュリティ事故やシステム障害の再発を防止するため、発生した事故の原因分析を行い、必要な対策を実施している。<br>・過去にセキュリティ事故やシステム障害が発生している場合、全ての事案においてその再発防止まで完了している。<br>・アプリの利用者へ、APIのトークンを使って何をするのか、その機能が利用不可能となる状況や可能性等、重要な事項を説明している（または予定である）。<br>・情報セキュリティ教育を定期的に実施している。<br>・全従業員と守秘義務など契約書や誓約書を取得している。<br>・雇用の終了または変更となった場合に、情報資産、アクセス権等の返却・削除・変更の手続きを定め、運用している。<br>・自社サービスの解約後及びシステムの廃棄後に情報漏洩を発生させないため、機器等に保存されている情報を消去する等の対策を実施している。<br>・PC・サーバなどの電子機器に対して、マルウェア対策を実施している。<br>・業務上必要な者だけが機密情報（当社から連携した情報を含む）および情報システムにアクセスできるように権限を設定している。<br>・機密情報（当社から連携した情報を含む）に関するデータを閲覧・編集したログおよび情報システムへのアクセスログを取得し、監視している。<br>・情報システムへの外部からの不正アクセスを防止するため、不正侵入検知・防御システム（IDS・IPS）、 Web アプリケーションファイアウォール（WAF）等を導入している。<br>・情報システムの開発時に都度のセキュリティテストまたは定期的な脆弱性診断を行い、脆弱性への対応を実施している。<br>・情報システムに導入しているソフトウェアの脆弱性情報を収集し、適宜リスク判断のもとセキュリティパッチを適用し脆弱性への対応を実施している。<br>・情報システムの復旧に必要なデータをバックアップしている。<br>・アプリの利用者へ適切な認証機能（（例：ID／PW＋多要素認証））を提供している。<br>・利用する API の種類に応じたトークンの管理（暗号化等）をしている。<br>・アプリケーションの改ざん対策（セキュアコーディング等）を実施している。<br>・外部委託（クラウドサービスの利用を含む）を行う場合、選定基準を設け、委託先企業またはクラウドサービスのセキュリティレベル確認している。<br>・利用者からの相談・照会、苦情、問い合わせ等があった場合の役割分担、業務フローを予め取り決めている（または予定である）。 |
| 課金導線の確認 | ・STORES で課金用の API は用意しておりませんが、パートナーアプリ側で課金システムを提供する場合は、内容について確認をさせていただきます |


## 4. 事前審査の開始
[公開アプリの事前審査フォーム](https://docs.google.com/forms/d/e/1FAIpQLSdWvUqMk3QsNqUKd-Os5BJZvkZrDA1V2P2v_FXYIOHQSS8I9w/viewform)の必要情報は以下の内容となります。  詳細はフォームよりご確認ください。  


| 項目 | 必須 |
| --- | :---: |
| メールアドレス| ● |
| STORESのストアURL | ● |
| パートナーアプリ名 | ● |
| パートナーアプリの概要 | ● |
| 利用するAPIの種類 | ● |
| 必要となる権限 | ● |
| コールバックURL | ● |
| 利用規約URL | ● |
| プライバシーポリシーURL | ● |
| 動作確認の方法　| ● |
| お問い合わせ用メールアドレス | ● |
| お問い合わせ対応方針 | ● |
| セキュリティの確認 | ●  |


## 5. 事前審査の結果
フォームより送信された情報をもとに、サポートチームより連絡をさせていただきます。  
事前審査フォーム送信後の内容の修正やご不明点につきましては `development-partner-support@hey.jp` までご連絡ください。

## 6. パートナーアプリの公開
事前審査を通過すると、パートナーアプリが STORES　ダッシュボードの[機能を追加ページ](https://stores.jp/dashboard?_gl=1*f7tm8p*_ga*MTg1MTExMTc5Ni4xNjUyNTQyNTc0*_ga_KQK7MFB3SE*MTY1MzMyOTg1NS44LjEuMTY1MzMyOTg1Ni41OQ..#!/addon)に公開され、STORES のオーナーが利用を開始します。  
利用開始に伴い、オーナーからの問い合わせがある可能性がありますので、問い合わせがあった際はご対応をよろしくお願いいたします。
また、パートナーアプリのメンテナンスがある場合や、掲載情報の修正などがある場合は、 `development-partner-support@hey.jp` までご連絡ください。




[▶︎TOPに戻る](README.md)
